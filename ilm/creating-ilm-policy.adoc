---
permalink: ilm/creating-ilm-policy.html 
sidebar: sidebar 
keywords: how to create ILM policy 
summary: Erstellen Sie eine oder mehrere ILM-Richtlinien, um Ihre Servicequalitätsanforderungen zu erfüllen. 
---
= Erstellen von ILM-Richtlinien
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Erstellen Sie eine oder mehrere ILM-Richtlinien, um Ihre Servicequalitätsanforderungen zu erfüllen.

Wenn Sie über eine aktive ILM-Richtlinie verfügen, können Sie dieselben ILM-Regeln auf alle Mandanten und Buckets anwenden.

Wenn Sie über mehrere aktive ILM-Richtlinien verfügen, können Sie die entsprechenden ILM-Regeln auf bestimmte Mandanten und Buckets anwenden, um mehrere Servicequalitätsanforderungen zu erfüllen.



== Erstellen einer ILM-Richtlinie

.Informationen zu diesem Vorgang
Bevor Sie Ihre eigene Richtlinie erstellen, überprüfen Sie, ob dielink:ilm-policy-overview.html#default-ilm-policy["Standard-ILM-Richtlinie"] entspricht nicht Ihren Speicheranforderungen.


NOTE: Verwenden Sie in Testsystemen nur die vom System bereitgestellten Richtlinien, 2 Kopien der Richtlinie (für Grids mit einem Standort) oder 1 Kopie pro Standort (für Grids mit mehreren Standorten).  Für StorageGRID 11.6 und früher verwendet die Standardregel in dieser Richtlinie den Speicherpool „Alle Speicherknoten“, der alle Sites enthält.  Wenn Ihr StorageGRID -System über mehr als einen Standort verfügt, können zwei Kopien eines Objekts am selben Standort platziert werden.


NOTE: Wenn dielink:enabling-s3-object-lock-globally.html["Die globale S3-Objektsperreinstellung wurde aktiviert"] müssen Sie sicherstellen, dass die ILM-Richtlinie den Anforderungen von Buckets entspricht, bei denen S3 Object Lock aktiviert ist.  Befolgen Sie in diesem Abschnitt die Anweisungen zur Aktivierung der S3-Objektsperre.

.Bevor Sie beginnen
* Sie sind beim Grid Manager angemeldet mit einemlink:../admin/web-browser-requirements.html["unterstützter Webbrowser"] .
* Sie haben dielink:../admin/admin-group-permissions.html["erforderliche Zugriffsberechtigungen"] .
* Du hastlink:access-create-ilm-rule-wizard.html["erstellte ILM-Regeln"] basierend darauf, ob S3 Object Lock aktiviert ist.
+
[role="tabbed-block"]
====
.S3-Objektsperre nicht aktiviert
--
** Du hastlink:what-ilm-rule-is.html["die ILM-Regeln erstellt"] Sie der Richtlinie hinzufügen möchten.  Bei Bedarf können Sie eine Richtlinie speichern, zusätzliche Regeln erstellen und dann die Richtlinie bearbeiten, um die neuen Regeln hinzuzufügen.
** Du hastlink:creating-default-ilm-rule.html["eine Standard-ILM-Regel erstellt"] das keine Filter enthält.


--
.S3-Objektsperre aktiviert
--
** Derlink:enabling-s3-object-lock-globally.html["Die globale S3-Objektsperreinstellung ist bereits aktiviert"] für das StorageGRID -System.
** Du hastlink:what-ilm-rule-is.html["erstellte die konformen und nicht konformen ILM-Regeln"] Sie der Richtlinie hinzufügen möchten.  Bei Bedarf können Sie eine Richtlinie speichern, zusätzliche Regeln erstellen und dann die Richtlinie bearbeiten, um die neuen Regeln hinzuzufügen.
** Du hastlink:creating-default-ilm-rule.html["eine Standard-ILM-Regel erstellt"] für die konforme Richtlinie.


--
====
* Optional haben Sie das Video angesehen: https://netapp.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=e768d4da-da88-413c-bbaa-b1ff00874d10["Video: Übersicht über ILM-Richtlinien"^]
+
[link=https://netapp.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=e768d4da-da88-413c-bbaa-b1ff00874d10]
image::../media/video-screenshot-ilm-policies-118.png[Video: Übersicht über ILM-Richtlinien]



Siehe auch link:ilm-policy-overview.html["Verwenden von ILM-Richtlinien"].

.Schritte
. Wählen Sie *ILM* > *Richtlinien*.
+
Wenn die globale Einstellung „S3 Object Lock“ aktiviert ist, wird auf der Seite „ILM-Richtlinien“ angezeigt, welche ILM-Regeln konform sind.

. Bestimmen Sie, wie Sie die ILM-Richtlinie erstellen möchten.
+
[role="tabbed-block"]
====
.Neue Richtlinie erstellen
--
.. Wählen Sie *Richtlinie erstellen*.


--
.Vorhandene Richtlinie klonen
--
.. Aktivieren Sie das Kontrollkästchen für die Richtlinie, mit der Sie beginnen möchten, und wählen Sie dann *Klonen* aus.


--
.Vorhandene Richtlinie bearbeiten
.. Wenn eine Richtlinie inaktiv ist, können Sie sie bearbeiten.  Aktivieren Sie das Kontrollkästchen für die inaktive Richtlinie, mit der Sie beginnen möchten, und wählen Sie dann *Bearbeiten* aus.


====


. Geben Sie im Feld *Richtlinienname* einen eindeutigen Namen für die Richtlinie ein.
. Geben Sie optional im Feld *Grund für die Änderung* den Grund für die Erstellung einer neuen Richtlinie ein.
. Um der Richtlinie Regeln hinzuzufügen, wählen Sie *Regeln auswählen*.  Wählen Sie einen Regelnamen aus, um die Einstellungen für diese Regel anzuzeigen.
+
--
Wenn Sie eine Richtlinie klonen:

** Die von der Richtlinie, die Sie klonen, verwendeten Regeln werden ausgewählt.
** Wenn die Richtlinie, die Sie klonen, Regeln ohne Filter verwendet hat, die nicht die Standardregel waren, werden Sie aufgefordert, alle bis auf eine dieser Regeln zu entfernen.
** Wenn die Standardregel einen Filter verwendet hat, werden Sie aufgefordert, eine neue Standardregel auszuwählen.
** Wenn die Standardregel nicht die letzte Regel war, können Sie die Regel an das Ende der neuen Richtlinie verschieben.


--
+
[role="tabbed-block"]
====
.S3-Objektsperre nicht aktiviert
--
.. Wählen Sie eine Standardregel für die Richtlinie aus.  Um eine neue Standardregel zu erstellen, wählen Sie *ILM-Regelseite*.
+
Die Standardregel gilt für alle Objekte, die keiner anderen Regel in der Richtlinie entsprechen.  Die Standardregel kann keine Filter verwenden und wird immer zuletzt ausgewertet.

+

NOTE: Verwenden Sie die Regel „2 Kopien erstellen“ nicht als Standardregel für eine Richtlinie.  Die Regel „2 Kopien erstellen“ verwendet einen einzelnen Speicherpool, „Alle Speicherknoten“, der alle Sites enthält.  Wenn Ihr StorageGRID -System über mehr als einen Standort verfügt, können zwei Kopien eines Objekts am selben Standort platziert werden.



--
.S3-Objektsperre aktiviert
--
.. Wählen Sie eine Standardregel für die Richtlinie aus.  Um eine neue Standardregel zu erstellen, wählen Sie *ILM-Regelseite*.
+
Die Regelliste enthält nur die konformen Regeln und verwendet keine Filter.

+

NOTE: Verwenden Sie die Regel „2 Kopien erstellen“ nicht als Standardregel für eine Richtlinie.  Die Regel „2 Kopien erstellen“ verwendet einen einzelnen Speicherpool, „Alle Speicherknoten“, der alle Sites enthält.  Wenn Sie diese Regel verwenden, können mehrere Kopien eines Objekts auf derselben Site platziert werden.

.. Wenn Sie eine andere „Standardregel“ für Objekte in nicht konformen S3-Buckets benötigen, wählen Sie *Eine Regel ohne Filter für nicht konforme S3-Buckets einschließen* und wählen Sie eine nicht konforme Regel aus, die keinen Filter verwendet.
+
Beispielsweise möchten Sie möglicherweise einen Cloud-Speicherpool verwenden, um Objekte in Buckets zu speichern, für die S3 Object Lock nicht aktiviert ist.

+

NOTE: Sie können nur eine nicht konforme Regel auswählen, die keinen Filter verwendet.



Siehe auch link:example-7-compliant-ilm-policy-for-s3-object-lock.html["Beispiel 7: Konforme ILM-Richtlinie für S3 Object Lock"].

--
====


. Wenn Sie mit der Auswahl der Standardregel fertig sind, wählen Sie *Weiter*.
. Wählen Sie im Schritt „Andere Regeln“ alle anderen Regeln aus, die Sie der Richtlinie hinzufügen möchten.  Diese Regeln verwenden mindestens einen Filter (Mandantenkonto, Bucket-Name, erweiterter Filter oder die nicht aktuelle Referenzzeit).  Wählen Sie dann *Auswählen*.
+
Im Fenster „Richtlinie erstellen“ werden nun die von Ihnen ausgewählten Regeln aufgelistet.  Die Standardregel steht am Ende, die anderen Regeln darüber.

+
Wenn S3 Object Lock aktiviert ist und Sie auch eine nicht konforme „Standardregel“ ausgewählt haben, wird diese Regel als vorletzte Regel in der Richtlinie hinzugefügt.

+

NOTE: Wenn eine Regel Objekte nicht für immer behält, wird eine Warnung angezeigt.  Wenn Sie diese Richtlinie aktivieren, müssen Sie bestätigen, dass StorageGRID Objekte löschen soll, wenn die Platzierungsanweisungen für die Standardregel ablaufen (es sei denn, ein Bucket-Lebenszyklus behält die Objekte für einen längeren Zeitraum).

. Ziehen Sie die Zeilen für die nicht standardmäßigen Regeln, um die Reihenfolge festzulegen, in der diese Regeln ausgewertet werden.
+
Sie können die Standardregel nicht verschieben.  Wenn die S3-Objektsperre aktiviert ist, können Sie die nicht konforme „Standard“-Regel auch nicht verschieben, falls eine solche ausgewählt wurde.

+

NOTE: Sie müssen bestätigen, dass die ILM-Regeln in der richtigen Reihenfolge sind.  Wenn die Richtlinie aktiviert ist, werden neue und vorhandene Objekte von den Regeln in der aufgeführten Reihenfolge (von oben beginnend) ausgewertet.

. Wählen Sie bei Bedarf *Regeln auswählen* aus, um Regeln hinzuzufügen oder zu entfernen.
. Wenn Sie fertig sind, wählen Sie *Speichern*.
. Wiederholen Sie diese Schritte, um weitere ILM-Richtlinien zu erstellen.
. <<simulate-ilm-policy,Simulieren einer ILM-Richtlinie>> . Sie sollten eine Richtlinie vor der Aktivierung immer simulieren, um sicherzustellen, dass sie wie erwartet funktioniert.




== Simulieren einer Richtlinie

Simulieren Sie eine Richtlinie an Testobjekten, bevor Sie die Richtlinie aktivieren und auf Ihre Produktionsdaten anwenden.

.Bevor Sie beginnen
* Sie kennen den S3-Bucket/Objektschlüssel für jedes Objekt, das Sie testen möchten.


.Schritte
. Mithilfe eines S3-Clients oder derlink:../tenant/use-s3-console.html["S3-Konsole"] , nehmen Sie die zum Testen jeder Regel erforderlichen Objekte auf.
. Aktivieren Sie auf der Seite „ILM-Richtlinien“ das Kontrollkästchen für die Richtlinie und wählen Sie dann *Simulieren* aus.
. Geben Sie im Feld *Objekt* den S3 ein `bucket/object-key` für ein Testobjekt. Beispiel:  `bucket-01/filename.png` .
. Wenn die S3-Versionierung aktiviert ist, geben Sie optional eine Versions-ID für das Objekt in das Feld *Versions-ID* ein.
. Wählen Sie *Simulieren*.
. Bestätigen Sie im Abschnitt „Simulationsergebnisse“, dass jedes Objekt der richtigen Regel entspricht.
. Um festzustellen, welcher Speicherpool oder welches Erasure-Coding-Profil wirksam ist, wählen Sie den Namen der übereinstimmenden Regel aus, um zur Seite mit den Regeldetails zu gelangen.



CAUTION: Überprüfen Sie alle Änderungen an der Platzierung vorhandener replizierter und löschcodierter Objekte.  Das Ändern des Standorts eines vorhandenen Objekts kann zu vorübergehenden Ressourcenproblemen führen, wenn die neuen Platzierungen ausgewertet und implementiert werden.

.Ergebnisse
Alle Änderungen an den Richtlinienregeln werden in den Simulationsergebnissen widergespiegelt und zeigen die neue und die vorherige Übereinstimmung an.  Das Fenster „Richtlinie simulieren“ behält die von Ihnen getesteten Objekte bei, bis Sie entweder *Alle löschen* oder das Symbol „Entfernen“ auswählenimage:../media/icon-x-to-remove.png["Symbol „Entfernen“"] für jedes Objekt in der Simulationsergebnisliste.

.Ähnliche Informationen
link:simulating-ilm-policy-examples.html["Beispielsimulationen für ILM-Richtlinien"]



== Aktivieren einer Richtlinie

Wenn Sie eine einzelne neue ILM-Richtlinie aktivieren, werden vorhandene und neu aufgenommene Objekte von dieser Richtlinie verwaltet.  Wenn Sie mehrere Richtlinien aktivieren, bestimmen die den Buckets zugewiesenen ILM-Richtlinien-Tags die zu verwaltenden Objekte.

Bevor Sie eine neue Richtlinie aktivieren:

. Simulieren Sie die Richtlinie, um zu bestätigen, dass sie sich wie erwartet verhält.
. Überprüfen Sie alle Änderungen an der Platzierung vorhandener replizierter und löschcodierter Objekte.  Das Ändern des Standorts eines vorhandenen Objekts kann zu vorübergehenden Ressourcenproblemen führen, wenn die neuen Platzierungen ausgewertet und implementiert werden.



CAUTION: Fehler in einer ILM-Richtlinie können zu nicht wiederherstellbarem Datenverlust führen.

.Informationen zu diesem Vorgang
Wenn Sie eine ILM-Richtlinie aktivieren, verteilt das System die neue Richtlinie an alle Knoten.  Allerdings wird die neue aktive Richtlinie möglicherweise erst wirksam, wenn alle Grid-Knoten für den Empfang der neuen Richtlinie verfügbar sind.  In einigen Fällen wartet das System mit der Implementierung einer neuen aktiven Richtlinie, um sicherzustellen, dass Rasterobjekte nicht versehentlich entfernt werden.  Speziell:

* Wenn Sie Richtlinienänderungen vornehmen, die *die Datenredundanz oder -haltbarkeit erhöhen*, werden diese Änderungen sofort implementiert.  Wenn Sie beispielsweise eine neue Richtlinie aktivieren, die eine Drei-Kopien-Regel anstelle einer Zwei-Kopien-Regel enthält, wird diese Richtlinie sofort implementiert, da sie die Datenredundanz erhöht.
* Wenn Sie Richtlinienänderungen vornehmen, die *die Datenredundanz oder -haltbarkeit verringern könnten*, werden diese Änderungen erst implementiert, wenn alle Grid-Knoten verfügbar sind.  Wenn Sie beispielsweise eine neue Richtlinie aktivieren, die eine Zwei-Kopien-Regel anstelle einer Drei-Kopien-Regel verwendet, wird die neue Richtlinie auf der Registerkarte „Aktive Richtlinie“ angezeigt, tritt jedoch erst in Kraft, wenn alle Knoten online und verfügbar sind.


.Schritte
Befolgen Sie die Schritte zum Aktivieren einer oder mehrerer Richtlinien:

[role="tabbed-block"]
====
.Aktivieren Sie eine Richtlinie
--
Befolgen Sie diese Schritte, wenn Sie nur eine aktive Richtlinie haben.  Wenn Sie bereits über eine oder mehrere aktive Richtlinien verfügen und zusätzliche Richtlinien aktivieren, befolgen Sie die Schritte zum Aktivieren mehrerer Richtlinien.

. Wenn Sie bereit sind, eine Richtlinie zu aktivieren, wählen Sie *ILM* > *Richtlinien*.
+
Alternativ können Sie eine einzelne Richtlinie auf der Seite *ILM* > *Richtlinien-Tags* aktivieren.

. Aktivieren Sie auf der Registerkarte „Richtlinien“ das Kontrollkästchen für die Richtlinie, die Sie aktivieren möchten, und wählen Sie dann „Aktivieren“ aus.
. Führen Sie den entsprechenden Schritt aus:
+
** Wenn Sie in einer Warnmeldung aufgefordert werden, die Aktivierung der Richtlinie zu bestätigen, wählen Sie *OK*.
** Wenn eine Warnmeldung mit Details zur Richtlinie angezeigt wird:
+
... Überprüfen Sie die Details, um sicherzustellen, dass die Richtlinie die Daten wie erwartet verwaltet.
... Wenn die Standardregel Objekte für eine begrenzte Anzahl von Tagen speichert, überprüfen Sie das Aufbewahrungsdiagramm und geben Sie diese Anzahl von Tagen in das Textfeld ein.
... Wenn die Standardregel Objekte für immer speichert, eine oder mehrere andere Regeln jedoch eine begrenzte Aufbewahrungsdauer haben, geben Sie *Ja* in das Textfeld ein.
... Wählen Sie *Richtlinie aktivieren*.






--
.Mehrere Richtlinien aktivieren
--
Um mehrere Richtlinien zu aktivieren, müssen Sie Tags erstellen und jedem Tag eine Richtlinie zuweisen.


TIP: Wenn mehrere Tags verwendet werden und Mandanten Richtlinien-Tags häufig Buckets neu zuweisen, kann dies die Grid-Leistung beeinträchtigen.  Wenn Sie nicht vertrauenswürdige Mandanten haben, sollten Sie in Erwägung ziehen, nur das Standard-Tag zu verwenden.

. Wählen Sie *ILM* > *Richtlinien-Tags*.
. Wählen Sie *Erstellen*.
. Geben Sie im Dialogfeld „Richtlinientag erstellen“ einen Tagnamen und optional eine Beschreibung für das Tag ein.
+

NOTE: Tag-Namen und -Beschreibungen sind für Mieter sichtbar.  Wählen Sie Werte aus, die den Mandanten dabei helfen, eine fundierte Entscheidung zu treffen, wenn sie Richtlinien-Tags auswählen, die sie ihren Buckets zuweisen möchten.  Wenn die zugewiesene Richtlinie beispielsweise das Löschen von Objekten nach einer bestimmten Zeit vorsieht, können Sie dies in der Beschreibung mitteilen.  Geben Sie in diese Felder keine vertraulichen Informationen ein.

. Wählen Sie *Tag erstellen*.
. Wählen Sie in der Tabelle mit den ILM-Richtlinien-Tags im Pulldown-Menü eine Richtlinie aus, die dem Tag zugewiesen werden soll.
. Wenn in der Spalte „Richtlinieneinschränkungen“ Warnungen angezeigt werden, wählen Sie *Richtliniendetails anzeigen* aus, um die Richtlinie zu überprüfen.
. Stellen Sie sicher, dass jede Richtlinie die Daten wie erwartet verwaltet.
. Wählen Sie *Zugewiesene Richtlinien aktivieren*.  Oder wählen Sie *Änderungen löschen*, um die Richtlinienzuweisung zu entfernen.
. Lesen Sie im Dialogfeld „Richtlinien mit neuen Tags aktivieren“ die Beschreibungen, wie die einzelnen Tags, Richtlinien und Regeln Objekte verwalten.  Nehmen Sie die erforderlichen Änderungen vor, um sicherzustellen, dass die Richtlinien die Objekte wie erwartet verwalten.
. Wenn Sie sicher sind, dass Sie die Richtlinien aktivieren möchten, geben Sie *Ja* in das Textfeld ein und wählen Sie dann *Richtlinien aktivieren*.


--
====
.Ähnliche Informationen
link:example-6-changing-ilm-policy.html["Beispiel 6: Ändern einer ILM-Richtlinie"]
