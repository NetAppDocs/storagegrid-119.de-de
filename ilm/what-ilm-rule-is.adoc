---
permalink: ilm/what-ilm-rule-is.html 
sidebar: sidebar 
keywords: what is information lifecycle rule, ilm rule 
summary: 'Zum Verwalten von Objekten erstellen Sie einen Satz von Regeln für das Information Lifecycle Management (ILM) und organisieren diese in einer ILM-Richtlinie.' 
---
= Verwenden Sie ILM-Regeln zum Verwalten von Objekten
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Zum Verwalten von Objekten erstellen Sie einen Satz von Regeln für das Information Lifecycle Management (ILM) und organisieren diese in einer ILM-Richtlinie.

Jedes in das System aufgenommene Objekt wird anhand der aktiven Richtlinie bewertet.  Wenn eine Regel in der Richtlinie mit den Metadaten eines Objekts übereinstimmt, bestimmen die Anweisungen in der Regel, welche Aktionen StorageGRID zum Kopieren und Speichern dieses Objekts ausführt.


NOTE: Objektmetadaten werden nicht durch ILM-Regeln verwaltet.  Stattdessen werden Objektmetadaten in einer Cassandra-Datenbank in einem sogenannten Metadatenspeicher gespeichert.  Um die Daten vor Verlust zu schützen, werden an jedem Standort automatisch drei Kopien der Objektmetadaten verwaltet.



== Elemente einer ILM-Regel

Eine ILM-Regel besteht aus drei Elementen:

* *Filterkriterien*: Die grundlegenden und erweiterten Filter einer Regel definieren, auf welche Objekte die Regel angewendet wird.  Wenn ein Objekt allen Filtern entspricht, wendet StorageGRID die Regel an und erstellt die in den Platzierungsanweisungen der Regel angegebenen Objektkopien.
* *Platzierungsanweisungen*: Die Platzierungsanweisungen einer Regel definieren die Anzahl, den Typ und den Speicherort von Objektkopien.  Jede Regel kann eine Abfolge von Platzierungsanweisungen enthalten, um die Anzahl, den Typ und den Speicherort von Objektkopien im Laufe der Zeit zu ändern.  Wenn der Zeitraum für eine Platzierung abläuft, werden die Anweisungen in der nächsten Platzierung automatisch von der nächsten ILM-Bewertung angewendet.
* *Aufnahmeverhalten*: Über das Aufnahmeverhalten einer Regel können Sie auswählen, wie die durch die Regel gefilterten Objekte bei der Aufnahme geschützt werden (wenn ein S3-Client ein Objekt im Raster speichert).




== ILM-Regelfilterung

Wenn Sie eine ILM-Regel erstellen, geben Sie Filter an, um zu identifizieren, auf welche Objekte die Regel angewendet wird.

Im einfachsten Fall verwendet eine Regel möglicherweise keine Filter.  Jede Regel, die keine Filter verwendet, gilt für alle Objekte und muss daher die letzte (Standard-)Regel in einer ILM-Richtlinie sein.  Die Standardregel bietet Speicheranweisungen für Objekte, die nicht den Filtern einer anderen Regel entsprechen.

* Mithilfe von Basisfiltern können Sie unterschiedliche Regeln auf große, unterschiedliche Objektgruppen anwenden.  Mit diesen Filtern können Sie eine Regel auf bestimmte Mandantenkonten, bestimmte S3-Buckets oder beides anwenden.
+
Mithilfe von Basisfiltern können Sie auf einfache Weise unterschiedliche Regeln auf eine große Anzahl von Objekten anwenden.  Beispielsweise müssen die Finanzunterlagen Ihres Unternehmens möglicherweise gespeichert werden, um gesetzliche Anforderungen zu erfüllen, während Daten der Marketingabteilung möglicherweise gespeichert werden müssen, um den täglichen Betrieb zu erleichtern.  Nachdem Sie für jede Abteilung separate Mandantenkonten erstellt oder die Daten der verschiedenen Abteilungen in separate S3-Buckets aufgeteilt haben, können Sie ganz einfach eine Regel erstellen, die für alle Finanzunterlagen gilt, und eine zweite Regel, die für alle Marketingdaten gilt.

* Erweiterte Filter geben Ihnen eine detaillierte Kontrolle.  Sie können Filter erstellen, um Objekte basierend auf den folgenden Objekteigenschaften auszuwählen:
+
** Aufnahmezeit
** Letzter Zugriffszeitpunkt
** Der gesamte oder ein Teil des Objektnamens (Schlüssel)
** Standortbeschränkung (nur S3)
** Objektgröße
** Benutzermetadaten
** Objekt-Tag (nur S3)




Sie können Objekte nach ganz bestimmten Kriterien filtern.  Beispielsweise werden Objekte, die in der Bildgebungsabteilung eines Krankenhauses gespeichert sind, möglicherweise häufig verwendet, wenn sie weniger als 30 Tage alt sind, und danach nur noch selten, während Objekte, die Informationen zu Patientenbesuchen enthalten, möglicherweise in die Abrechnungsabteilung in der Zentrale des Gesundheitsnetzwerks kopiert werden müssen.  Sie können Filter erstellen, die jeden Objekttyp anhand des Objektnamens, der Größe, der S3-Objekt-Tags oder anderer relevanter Kriterien identifizieren, und dann separate Regeln erstellen, um jeden Objektsatz entsprechend zu speichern.

Sie können Filter nach Bedarf in einer einzigen Regel kombinieren.  Beispielsweise möchte die Marketingabteilung große Bilddateien möglicherweise anders speichern als ihre Lieferantendatensätze, während die Personalabteilung Personaldatensätze in einer bestimmten Region und Richtlinieninformationen zentral speichern muss.  In diesem Fall können Sie Regeln erstellen, die nach Mandantenkonto filtern, um die Datensätze aus jeder Abteilung zu trennen, während Sie in jeder Regel Filter verwenden, um den spezifischen Objekttyp zu identifizieren, auf den die Regel angewendet wird.



== Anweisungen zur Platzierung von ILM-Regeln

Platzierungsanweisungen bestimmen, wo, wann und wie Objektdaten gespeichert werden.  Eine ILM-Regel kann eine oder mehrere Platzierungsanweisungen enthalten.  Jede Platzierungsanweisung gilt jeweils für einen Zeitraum.

Wenn Sie Platzierungsanweisungen erstellen:

* Sie beginnen mit der Angabe der Referenzzeit, die bestimmt, wann die Platzierungsanweisungen beginnen.  Der Referenzzeitpunkt kann der Zeitpunkt der Aufnahme eines Objekts, der Zugriff auf ein Objekt, der Zeitpunkt, zu dem ein versioniertes Objekt nicht mehr aktuell ist, oder ein benutzerdefinierter Zeitpunkt sein.
* Als Nächstes geben Sie an, wann die Platzierung relativ zur Referenzzeit angewendet wird.  Beispielsweise kann eine Platzierung am Tag 0 beginnen und 365 Tage lang andauern, relativ zum Zeitpunkt der Aufnahme des Objekts.
* Abschließend geben Sie die Art der Kopien (Replikation oder Erasure Coding) und den Speicherort der Kopien an.  Beispielsweise möchten Sie möglicherweise zwei replizierte Kopien an zwei verschiedenen Standorten speichern.


Jede Regel kann mehrere Platzierungen für einen einzelnen Zeitraum und unterschiedliche Platzierungen für unterschiedliche Zeiträume definieren.

* Um Objekte während eines einzelnen Zeitraums an mehreren Standorten zu platzieren, wählen Sie *Anderen Typ oder Standort hinzufügen* aus, um für diesen Zeitraum mehr als eine Zeile hinzuzufügen.
* Um Objekte an verschiedenen Orten in unterschiedlichen Zeiträumen zu platzieren, wählen Sie *Weiteren Zeitraum hinzufügen*, um den nächsten Zeitraum hinzuzufügen.  Geben Sie dann eine oder mehrere Zeilen innerhalb des Zeitraums an.


Das Beispiel zeigt zwei Platzierungsanweisungen auf der Seite „Platzierungen definieren“ des Assistenten „ILM-Regel erstellen“.

image::../media/ilm_rule_multiple_placements_in_single_time_period.png[ILM-Platzierungsbildschirm vom Grid Manager]

Die erste Platzierungsanweisungimage:../media/icon_number_1.png["Symbol Nummer 1"] hat zwei Zeilen für das erste Jahr:

* Die erste Zeile erstellt zwei replizierte Objektkopien an zwei Rechenzentrumsstandorten.
* Die zweite Zeile erstellt eine 6+3-Löschcode-Kopie unter Verwendung aller Rechenzentrumsstandorte.


Die zweite Platzierungsanweisungimage:../media/icon_number_2.png["Symbol Nummer 1"] erstellt nach einem Jahr zwei Kopien und behält diese Kopien für immer.

Wenn Sie den Satz von Platzierungsanweisungen für eine Regel definieren, müssen Sie sicherstellen, dass mindestens eine Platzierungsanweisung am Tag 0 beginnt, dass keine Lücken zwischen den von Ihnen definierten Zeiträumen bestehen und dass die letzte Platzierungsanweisung entweder für immer oder so lange gilt, bis Sie keine Objektkopien mehr benötigen.

Wenn jeder Zeitraum in der Regel abläuft, werden die Anweisungen zur Inhaltsplatzierung für den nächsten Zeitraum angewendet.  Es werden neue Objektkopien erstellt und nicht benötigte Kopien gelöscht.



== ILM-Regelaufnahmeverhalten

Das Aufnahmeverhalten steuert, ob Objektkopien sofort gemäß den Anweisungen in der Regel platziert werden oder ob Zwischenkopien erstellt werden und die Platzierungsanweisungen später angewendet werden.  Für ILM-Regeln sind die folgenden Aufnahmeverhalten verfügbar:

* *Ausgeglichen*: StorageGRID versucht, bei der Aufnahme alle in der ILM-Regel angegebenen Kopien zu erstellen. Wenn dies nicht möglich ist, werden Zwischenkopien erstellt und der Erfolg wird an den Client zurückgegeben.  Die in der ILM-Regel angegebenen Kopien werden nach Möglichkeit erstellt.
* *Streng*: Alle in der ILM-Regel angegebenen Kopien müssen erstellt werden, bevor dem Client der Erfolg gemeldet wird.
* *Dual Commit*: StorageGRID erstellt sofort Zwischenkopien des Objekts und meldet den Erfolg an den Client.  Wenn möglich, werden die in der ILM-Regel angegebenen Kopien erstellt.


.Ähnliche Informationen
* link:data-protection-options-for-ingest.html["Aufnahmeoptionen"]
* link:advantages-disadvantages-of-ingest-options.html["Vorteile, Nachteile und Einschränkungen der Aufnahmeoptionen"]
* link:../s3/consistency-controls.html#how-consistency-controls-and-ILM-rules-interact["Wie sich Konsistenz und ILM-Regeln auf den Datenschutz auswirken"]




== Beispiel einer ILM-Regel

Beispielsweise könnte eine ILM-Regel Folgendes festlegen:

* Gilt nur für die Objekte, die Mieter A gehören.
* Erstellen Sie zwei replizierte Kopien dieser Objekte und speichern Sie jede Kopie an einem anderen Ort.
* Bewahren Sie die beiden Kopien „für immer“ auf, was bedeutet, dass StorageGRID sie nicht automatisch löscht.  Stattdessen behält StorageGRID diese Objekte, bis sie durch eine Löschanforderung des Clients oder durch Ablauf eines Bucket-Lebenszyklus gelöscht werden.
* Verwenden Sie die Option „Ausgewogen“ für das Aufnahmeverhalten: Die Anweisung zur Platzierung an zwei Standorten wird angewendet, sobald Mandant A ein Objekt in StorageGRID speichert, es sei denn, es ist nicht möglich, beide erforderlichen Kopien sofort zu erstellen.
+
Wenn beispielsweise Site 2 nicht erreichbar ist, wenn Mandant A ein Objekt speichert, erstellt StorageGRID zwei Zwischenkopien auf Speicherknoten an Site 1.  Sobald Site 2 verfügbar ist, erstellt StorageGRID die erforderliche Kopie an diesem Site.



.Ähnliche Informationen
* link:what-storage-pool-is.html["Was ist ein Speicherpool?"]
* link:what-cloud-storage-pool-is.html["Was ist ein Cloud-Speicherpool?"]

